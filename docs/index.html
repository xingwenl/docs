<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>个人文档</title>
        <link rel="icon" href="favicon.ico" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="description" content="Description" />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <!-- <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css"> -->
        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css"> -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css"
        />
        <!-- <link rel="stylesheet" href="//unpkg.com/vuep/dist/vuep.css"> -->

        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-defaults.min.css"> -->
        <!-- <link rel="stylesheet" href="path/to/prismjs-theme.css"> -->
        <!-- 评论 -->
        <link rel="stylesheet" href="//unpkg.com/gitalk/dist/gitalk.css" />

        <link rel="stylesheet" href="assets/style.css" />
    </head>
    <body>
        
        <div data-app id="main" v-cloak>
            <nav>
                <!-- * 分类 -->
                <a href="#/view/common/common.md">常用dd</a>
                <a href="#/view/app/app.md">Appe</a>
                <a href="#/view/web/web.md">web</a>
                <a href="#/view/backend/backend.md">后端</a>
            </nav>
            加载中...
        </div>
        <script>
            window.$docsify = {
                el: "#main",
                homepage: "_home.md",
                name: "XINGWEN",
                nameLink: "#/README",
                repo: "https://github.com/xingwenl/docs",
                loadNavbar: true,
                coverpage: true,
                loadSidebar: true,
                subMaxLevel: 2, // 设置左边栏子级点击
                autoHeader: true, // 切换页面自动跳到头
                auto2top: true, // 路由更改时滚动到顶部
                maxLevel: 3,
                search: "auto",
                search: {
                    maxAge: 86400000,
                    path: "auto",
                    placeholder: "搜索",
                    noData: "找不到结果!",
                    depth: 6
                },
                readyTransition: true,
                responsiveTables: true,
                //   章节分页
                pagination: {
                    previousText: "上一篇",
                    nextText: "下一篇",
                    crossChapter: true
                },
                formatUpdated: "{MM}/{DD} {HH}:{mm}"
            };
        </script>
        <script src="//unpkg.com/docsify/lib/docsify.min.js"></script>
        <script src="//unpkg.com/docsify/lib/plugins/search.js"></script>
        <script src="//unpkg.com/docsify/lib/plugins/emoji.js"></script>
        <script src="//unpkg.com/docsify/lib/plugins/zoom-image.min.js"></script>
        <script src="//unpkg.com/docsify/lib/plugins/external-script.js"></script>
        <!-- 复制代码 -->
        <script src="//unpkg.com/docsify-copy-code@2"></script>
        <script src="//unpkg.com/vue/dist/vue.min.js"></script>
        <script src="//unpkg.com/vuep/dist/vuep.min.js"></script>
        <script src="//unpkg.com/prismjs/components/prism-bash.js"></script>
        <script src="//unpkg.com/prismjs/components/prism-php.js"></script>
        <script src="//cdn.jsdelivr.net/npm/docsify-themeable@0"></script>
        <!-- 评论 -->
        <script src="//unpkg.com/docsify/lib/plugins/gitalk.min.js"></script>
        <script src="//unpkg.com/gitalk/dist/gitalk.min.js"></script>
        <!-- Hotjar Tracking Code for https://xingwenl.github.io/docs/ -->
        <!-- tabs -->
        <script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1"></script>
        <!-- 章节分页 -->
        <script src="//unpkg.com/docsify-pagination/dist/docsify-pagination.min.js"></script>
        <!-- docsify (latest v4.x.x)-->
        <!-- <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script> -->
        <!-- docsify-example-panels (latest) -->
        <script src="https://cdn.jsdelivr.net/npm/docsify-example-panels"></script>
        <script>
            const gitalk = new Gitalk({
                githubID: "xingwenl",
                clientID: "c45ce9c2552d9ff73edc",
                clientSecret: "40a6e1f1dd76db156888be20354423ae6d0b237d",
                repo: "docs",
                owner: "xingwenl",
                admin: ["xingwenl"],
                // facebook-like distraction free mode
                distractionFreeMode: false
            });
        </script>
        <script>
            const xw_sw_v = '1.0.3'
            if (typeof navigator.serviceWorker !== "undefined") {
                navigator.serviceWorker.register("sw.js").then(async res => {
                    // if (localStorage.getItem('xw_sw_v') !== xw_sw_v) {
                    //     await res.update();
                    //     await res.unregister();
                    //     console.log(`[sw-unregister] sw 版本升级，先注销`)
                    // }
                    // localStorage.setItem('xw_sw_v', xw_sw_v)
                    console.log(`[sw-register-then] 成功`, res)
                }).catch(err => {
                    console.log('[sw-register-catch] 失败', err)
                });

            //     navigator.serviceWorker.register({
            //     onUpdate: async (registration) => {
            //         console.log('网站需要更新')
            //         // await registration.update(); // 这里很重要
            //         // message.info("网站更新完成, 请刷新页面: " + moment().format('YYYY-MM-DD HH:mm:ss'), 0.5, () => {
            //         //     // window.location.reload();
            //         // });
            //     },
            //     onSuccess: () => {},
            // });


            navigator.serviceWorker.addEventListener('controllerchange', () => {
                console.log('网站需要更新')
            });

                navigator.serviceWorker.getRegistrations()
                    .then((registrations) => {
                        if (localStorage.getItem('xw_sw_v') !== xw_sw_v) {
                            for(let registration of registrations) {  
                                registration.unregister();
                                console.log(`[sw-unregister] sw 版本升级，先注销`)
                            }
                        }
                        localStorage.setItem('xw_sw_v', xw_sw_v)
                    })
            }
        </script>
        <script>
            (function(h, o, t, j, a, r) {
                h.hj =
                    h.hj ||
                    function() {
                        (h.hj.q = h.hj.q || []).push(arguments);
                    };
                h._hjSettings = { hjid: 1427722, hjsv: 6 };
                a = o.getElementsByTagName("head")[0];
                r = o.createElement("script");
                r.async = 1;
                r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
                a.appendChild(r);
            })(
                window,
                document,
                "https://static.hotjar.com/c/hotjar-",
                ".js?sv="
            );
        </script>
    </body>
</html>
